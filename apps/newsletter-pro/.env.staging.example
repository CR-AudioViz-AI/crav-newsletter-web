# Newsletter Pro - Staging Environment Variables
# Copy this to .env.staging and fill in actual values

# =============================================================================
# Application Mode
# =============================================================================
NODE_ENV=production
APP_MODE=prod
NEXT_PUBLIC_APP_URL=https://newsletter-staging.crav.io

# =============================================================================
# Database (Supabase)
# =============================================================================
VITE_SUPABASE_URL=https://your-staging-project.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
DATABASE_URL=postgresql://postgres.xxx:password@aws-0-us-west-1.pooler.supabase.com:6543/postgres

# =============================================================================
# Authentication
# =============================================================================
AUTH_MODE=sso
CRAV_SSO_ISSUER=https://sso-staging.crav.io
CRAV_SSO_JWKS_URL=https://sso-staging.crav.io/.well-known/jwks.json
CRAV_SSO_AUDIENCE=crav.newsletter
CRAV_SSO_CLIENT_ID=newsletter-staging
CRAV_SSO_CLIENT_SECRET=staging-secret-key

NEXTAUTH_SECRET=generate-with-openssl-rand-base64-32
NEXTAUTH_URL=https://newsletter-staging.crav.io

# =============================================================================
# Credits API
# =============================================================================
CREDITS_API_URL=https://credits-api-staging.crav.io
CREDITS_API_KEY=staging-credits-api-key

# =============================================================================
# Email Provider (AWS SES)
# =============================================================================
AWS_SES_REGION=us-west-2
AWS_SES_ACCESS_KEY_ID=AKIA...
AWS_SES_SECRET_ACCESS_KEY=...
AWS_SES_CONFIGURATION_SET=newsletter-staging

# Verified sender domain
SES_FROM_DOMAIN=staging.newsletter.crav.io
SES_FROM_EMAIL=no-reply@staging.newsletter.crav.io
SES_FROM_NAME=Newsletter Pro (Staging)

# =============================================================================
# Analytics
# =============================================================================
NEXT_PUBLIC_ANALYTICS_URL=https://analytics-staging.crav.io
NEXT_PUBLIC_ANALYTICS_KEY=staging-analytics-key
NEXT_PUBLIC_DASHBOARD_URL=https://dashboard-staging.crav.io

# =============================================================================
# Observability
# =============================================================================
# Sentry (error tracking)
SENTRY_DSN=https://xxx@sentry.io/xxx
SENTRY_ENVIRONMENT=staging

# Datadog (logs & metrics)
DD_API_KEY=datadog-api-key
DD_SITE=datadoghq.com
DD_SERVICE=newsletter-pro
DD_ENV=staging
DD_VERSION=1.0.0

# CloudWatch (if using AWS)
CLOUDWATCH_LOG_GROUP=/aws/ecs/newsletter-staging
CLOUDWATCH_LOG_STREAM=app

# =============================================================================
# Rate Limiting
# =============================================================================
# Uses Redis for distributed rate limiting
REDIS_URL=redis://staging-redis.crav.io:6379

# Rate limits (requests per window)
RATE_LIMIT_LOGIN_MAX=5
RATE_LIMIT_LOGIN_WINDOW=900  # 15 minutes in seconds
RATE_LIMIT_SCHEDULE_MAX=10
RATE_LIMIT_SCHEDULE_WINDOW=3600  # 1 hour
RATE_LIMIT_WEBHOOK_MAX=1000
RATE_LIMIT_WEBHOOK_WINDOW=60  # 1 minute

# =============================================================================
# Feature Flags
# =============================================================================
# Enable/disable features for testing
ENABLE_CSV_IMPORT=true
ENABLE_TEMPLATE_EDITOR=true
ENABLE_CAMPAIGN_SCHEDULING=true
ENABLE_REAL_TIME_METRICS=true

# =============================================================================
# Development / Debug (staging only)
# =============================================================================
DEBUG=newsletter:*
LOG_LEVEL=debug
SKIP_ENV_VALIDATION=false

# =============================================================================
# DO NOT COMMIT THIS FILE WITH REAL VALUES
# Add .env.staging to .gitignore
# =============================================================================
